(()=>{var b=function(e){document.readyState==="interactive"||document.readyState==="complete"?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent&&document.attachEvent("onreadystatechange",function(){document.readyState!="loading"&&e()})};b(function(){function e(u){let f=`; ${document.cookie}`.split(`; ${u}=`);if(f.length===2)return f.pop().split(";").shift()}function o(u,m,f){let h=new Date;h.setTime(h.getTime()+f*24*60*60*1e3),document.cookie=`${u}=${m};expires=${h.toUTCString()};path=/;SameSite=Lax`}function t(){document.body.style.overflow="hidden",document.body.style.paddingRight=window.innerWidth-document.documentElement.clientWidth+"px"}function l(){document.body.style.overflow="",document.body.style.paddingRight=""}async function a(){let u=document.getElementById("kp-modal-content");try{let m=await fetch("/about-kevin-pirnie/cookie-policy/");if(!m.ok)throw new Error("Failed to load cookie policy");let f=await m.text(),v=new DOMParser().parseFromString(f,"text/html"),k=v.querySelector(".article-content")||v.querySelector("article")||v.querySelector("main");k?u.innerHTML=k.innerHTML:u.innerHTML='<p class="text-center">Unable to load cookie policy content.</p>'}catch(m){console.error("Error loading cookie policy:",m),u.innerHTML='<p class="text-center text-red-400">Error loading cookie policy. Please visit the <a href="/about-kevin-pirnie/cookie-policy/" class="underline">Cookie Policy page</a>.</p>'}}let r=document.getElementById("kp-cookie-notice"),d=document.getElementById("kp-cookie-overlay"),c=document.getElementById("kp-cookie-accept"),s=document.getElementById("kp-cookie-decline"),i=document.getElementById("kp-cookie-learn-more"),n=document.getElementById("kp-cookie-modal"),p=document.getElementById("kp-modal-close"),y=document.getElementById("kp-modal-overlay"),E=e("kp_cookie_consent");r&&d&&!E&&(r.style.display="block",r.classList.remove("hidden"),d.style.display="block",d.classList.remove("hidden"),t()),c&&c.addEventListener("click",function(){o("kp_cookie_consent","accepted",365),r.style.display="none",d.style.display="none",l()}),s&&s.addEventListener("click",function(){o("kp_cookie_consent","declined",365),window.location.href="https://www.google.com/search?q=why+do+I+need+cookies"}),i&&n&&i.addEventListener("click",function(u){u.preventDefault(),n.classList.remove("hidden"),a()}),p&&n&&p.addEventListener("click",function(){n.classList.add("hidden")}),y&&n&&y.addEventListener("click",function(){n.classList.add("hidden")})});b(function(){let e=document.querySelector(".kpt-hero-slideshow");if(e){let u=function(g){let L=g.getAttribute("data-bg");L&&!g.style.backgroundImage&&(g.style.backgroundImage=`url('${L}')`)},m=function(g){c.forEach(L=>{L.classList.remove("active","prev")}),c[n].classList.add("prev"),n=(g+c.length)%c.length,u(c[n]),c[n].classList.add("active")},f=function(){m(n+1)},h=function(){m(n-1)},v=function(){p=setInterval(f,7e3)},k=function(){clearInterval(p)};var o=u,t=m,l=f,a=h,r=v,d=k;let c=e.querySelectorAll(".kpt-hero-slide"),s=e.querySelector(".kpt-hero-prev"),i=e.querySelector(".kpt-hero-next"),n=0,p,y=!1;new IntersectionObserver(g=>{g.forEach(L=>{L.isIntersecting&&!y&&(y=!0,u(c[n]),v())})},{threshold:.1}).observe(e),s.addEventListener("click",h),i.addEventListener("click",f),e.addEventListener("mouseenter",k),e.addEventListener("mouseleave",()=>{y&&v()}),document.addEventListener("keydown",function(g){g.key==="ArrowLeft"&&h(),g.key==="ArrowRight"&&f()})}});b(function(){document.addEventListener("click",function(e){let o=e.target.closest(".dropdown-toggle");if(o){e.preventDefault(),e.stopPropagation();let t=o.closest("li.has-dropdown"),l=t.querySelector(":scope > .submenu"),a=o.querySelector(".fa-solid");if(l){let r=!l.classList.contains("hidden"),d=[],c=t.parentElement;for(;c;)c.classList&&c.classList.contains("submenu")&&d.push(c),c=c.parentElement;document.querySelectorAll(".submenu").forEach(s=>{s!==l&&!d.includes(s)&&s.classList.add("hidden")}),document.querySelectorAll(".dropdown-toggle .fa-solid").forEach(s=>{let n=s.closest("li.has-dropdown")?.querySelector(":scope > .submenu");s!==a&&!d.includes(n)&&s.classList.remove("rotate-180")}),l.classList.toggle("hidden"),a.classList.toggle("rotate-180")}}else e.target.closest(".submenu, .has-dropdown")||(document.querySelectorAll(".submenu").forEach(t=>{t.classList.add("hidden")}),document.querySelectorAll(".dropdown-toggle .fa-solid").forEach(t=>{t.classList.remove("rotate-180")}))})});b(function(){let e=document.getElementById("mobile-menu-toggle"),o=document.getElementById("mobile-menu");e&&o&&e.addEventListener("click",function(){o.classList.toggle("hidden"),o.classList.contains("hidden")||(document.querySelectorAll(".submenu-mobile").forEach(t=>{t.classList.add("hidden")}),document.querySelectorAll(".submenu-toggle svg").forEach(t=>{t.classList.remove("rotate-180")}))}),document.addEventListener("click",function(t){let l=t.target.closest(".submenu-toggle");if(l){t.preventDefault(),t.stopPropagation();let a=l.closest("li"),r=a.querySelector(":scope > .submenu-mobile"),d=l.querySelector("svg");if(r){let c=!r.classList.contains("hidden"),s=[],i=a.parentElement;for(;i;)i.classList&&i.classList.contains("submenu-mobile")&&s.push(i),i=i.parentElement;document.querySelectorAll(".submenu-mobile").forEach(n=>{n!==r&&!s.includes(n)&&n.classList.add("hidden")}),document.querySelectorAll(".submenu-toggle svg").forEach(n=>{let y=n.closest("li")?.querySelector(":scope > .submenu-mobile");n!==d&&!s.includes(y)&&n.classList.remove("rotate-180")}),r.classList.toggle("hidden"),d.classList.toggle("rotate-180")}}}),document.addEventListener("click",function(t){let l=t.target.closest(".mobile-menu-list .has-submenu > div > a");if(l){t.preventDefault();let a=l.closest("li"),r=a.querySelector(":scope > .submenu-mobile"),d=l.closest("div").querySelector(".submenu-toggle svg");if(r){let c=[],s=a.parentElement;for(;s;)s.classList&&s.classList.contains("submenu-mobile")&&c.push(s),s=s.parentElement;document.querySelectorAll(".submenu-mobile").forEach(i=>{i!==r&&!c.includes(i)&&i.classList.add("hidden")}),document.querySelectorAll(".submenu-toggle svg").forEach(i=>{let p=i.closest("li")?.querySelector(":scope > .submenu-mobile");i!==d&&!c.includes(p)&&i.classList.remove("rotate-180")}),r.classList.toggle("hidden"),d&&d.classList.toggle("rotate-180")}}})});b(function(){let e=document.getElementById("scroll-to-top");e&&(window.addEventListener("scroll",function(){window.pageYOffset>300?(e.classList.remove("opacity-0","invisible"),e.classList.add("opacity-100","visible")):(e.classList.add("opacity-0","invisible"),e.classList.remove("opacity-100","visible"))}),e.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}))});b(function(){let e=document.getElementById("search-toggle"),o=document.getElementById("search-form");e&&o&&e.addEventListener("click",function(){o.classList.toggle("hidden"),o.classList.contains("hidden")||o.querySelector('input[type="search"]').focus()});let t=document.getElementById("search-toggle-mobile");t&&o&&t.addEventListener("click",function(){o.classList.toggle("hidden"),o.classList.contains("hidden")||o.querySelector('input[type="search"]').focus()})});b(function(){let e=document.querySelectorAll(".kpt-lazy-bg");if("IntersectionObserver"in window&&e.length>0){let o=new IntersectionObserver(t=>{t.forEach(l=>{if(l.isIntersecting){let a=l.target,r=a.getAttribute("data-bg");r&&(a.style.backgroundImage=`url('${r}')`,a.removeAttribute("data-bg")),o.unobserve(a)}})},{rootMargin:"50px"});e.forEach(t=>o.observe(t))}else e.forEach(o=>{let t=o.getAttribute("data-bg");t&&(o.style.backgroundImage=`url('${t}')`)})});b(function(){let e=0,o=document.getElementById("top-header");o&&window.addEventListener("scroll",function(){let t=window.pageYOffset;t>50&&t>e?o.style.transform="translateY(-100%)":o.style.transform="translateY(0)",e=t})});})();
